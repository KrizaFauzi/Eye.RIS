{% extends 'base.html' %}
{% load static %}

{% block title %}Daftar - Eye.IRIS{% endblock %}

{% block content %}
<div class="login-container">
    <div class="container">
      <div class="login-wrapper">
      <!-- Left Section - Title & Illustration -->
      <div class="login-left">
        <h1 class="page-title">Ayo bergabung ke Eye.IRIS !</h1>
        <!-- <div class="login-illustration">
          [Illustration: Welcome / Sign up]
        </div> -->
        <img src="{% static 'images/page_masuk 1.png' %}"  style="height: 340px; width: 380px; border-radius: 16px;">
      </div>

      <!-- Right Section - Form -->
      <div class="login-right">

        <form method="POST" class="login-form">
          {% csrf_token %}

          <!-- Daftar Section -->
          <div>
            <h2 style="margin: 0 0 6px; font-size: 16px; font-weight: 600; color: var(--text);">Daftar ke Eye.IRIS</h2>
            <p style="margin: 0 0 16px; font-size: 13px; color: var(--muted);">Silahkan masukkan informasi akun anda.</p>
          </div>

          <!-- Name -->
          <div class="login-form-group">
            {{ form.first_name }}
            {% if form.first_name.errors %}
                <span class="error-text">{{ form.first_name.errors.0 }}</span>
            {% endif %}
          </div>

          <!-- Surname -->
          <div class="login-form-group">
            {{ form.last_name }}
            {% if form.last_name.errors %}
                <span class="error-text">{{ form.last_name.errors.0 }}</span>
            {% endif %}
          </div>

          <!-- Email -->
          <div class="login-form-group">
            {{ form.email }}
            {% if form.email.errors %}
                <span class="error-text">{{ form.email.errors.0 }}</span>
            {% endif %}
          </div>

          <!-- Password -->
          <div class="login-form-group password-toggle">
            {{ form.password1 }}
            {% if form.password1.errors %}
                <span class="error-text">{{ form.password1.errors.0 }}</span>
            {% endif %}
            <button type="button" class="password-toggle-btn" onclick="togglePassword('id_password1')">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                <circle cx="12" cy="12" r="3"></circle>
              </svg>
            </button>
          </div>

          <!-- Konfirmasi Password -->
          <div class="login-form-group password-toggle">
            {{ form.password2 }}
            {% if form.password2.errors %}
                <span class="error-text">{{ form.password2.errors.0 }}</span>
            {% endif %}
            <button type="button" class="password-toggle-btn" onclick="togglePassword('id_password2')">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                <circle cx="12" cy="12" r="3"></circle>
              </svg>
            </button>
          </div>

          <!-- Checkbox -->
          <label class="login-checkbox">
            <input type="checkbox" name="subscribe" id="subscribe">
            <span>Saya bersedia menerima update dari Eye.IRIS</span>
          </label>

          <!-- Submit Button -->
          <button type="submit" class="login-submit-btn">Daftar</button>

          <!-- Footer Text -->
          <p class="login-footer-text">
            Sudah memiliki akun? <a href="{% url 'login' %}">Masuk</a>
          </p>
        </form>
      </div>
    </div>
  </div>
</div>

{% endblock %}

{% block extra_js %}
<script>
  function togglePassword(fieldId) {
    const field = document.getElementById(fieldId);
    if (field.type === 'password') {
      field.type = 'text';
    } else {
      field.type = 'password';
    }
  }
</script>
{% endblock %}
